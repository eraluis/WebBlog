<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
>
<f:loadBundle var="msg" basename="./languages/messages"></f:loadBundle>
<body> 
<h:form>
<div >
<!-- Anonymous user. login page -->
<h:panelGroup rendered="#{login.signed=='false'}">
	<h:panelGrid columns="2" width="100%" >
		<f:facet name="header" >#{msg.enter}</f:facet>
		<h:outputLabel value="#{msg.login}" />
		<h:inputText value="#{login.login}" class="right" />
		<h:outputLabel value="#{msg.password}" />
		<h:inputSecret value="#{login.password}" class="right"/>
	</h:panelGrid>
	<h:panelGroup class="right" > 
		<h:commandLink value="#{msg.signin}" action="#{login.signin}"></h:commandLink>
		<h:outputLabel value=" | " />
		<h:commandLink value="#{msg.register}" action="#{login.signout}"></h:commandLink>
	</h:panelGroup>
</h:panelGroup>
<!-- Logged user. It depends on his role type-->
<h:panelGroup rendered="#{login.signed=='true'}">
	<h:form>
	<h:panelGroup rendered="#{login.role=='A'}">
		<h3>Admin console</h3>
			<h:panelGrid columns="2"  >
			<h:outputLabel value="#{msg.name}:" />
			<h:outputLabel value="#{login.name}" />
			<h:outputLabel value="#{msg.login}:" />
			<h:outputLabel value="#{login.login}"  />
			</h:panelGrid>
		<br />
		<h3>What can you do it</h3>
			<h:panelGrid columns="1">
			<h:commandLink value="Users administration" ></h:commandLink>
			<h:commandLink value="Report statistics"></h:commandLink>
			</h:panelGrid>
	</h:panelGroup>
	<h:panelGroup rendered="#{login.role=='U'}">
		<h3>User console</h3>
			<h:panelGrid columns="2"  >
			<h:outputLabel value="#{msg.name}:" />
			<h:outputLabel value="#{login.name}" />
			<h:outputLabel value="#{msg.login}:" />
			<h:outputLabel value="#{login.login}"  />
			</h:panelGrid>
		<br />
		<h3>What can you do it</h3>
			<h:panelGrid columns="1">
			<h:commandLink value="Create your own blogs" ></h:commandLink>
			<h:commandLink value="Viwe other blogs' people"></h:commandLink>
			</h:panelGrid>
	</h:panelGroup>
	</h:form>
</h:panelGroup>
</div>
<h:messages/>
</h:form>
</body>
</html>